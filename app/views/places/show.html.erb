<main>
  <p id="notice"><%= flash[:notice] %></p>
  
<% if @place.errors.any? %>
  <%= @place.errors.count %>件のエラーが発生しました
  <% @place.errors.full_messages.each do |message| %>
    <%= message %>
  <% end %>
<% end %>
  
  <div class='container px-5 px-sm-0'>
    <div class='row'>
      <div class='col-md-3'>
        <%= render 'users/user', user: @user, place: @place_new %>
      </div>
  
      <div class='col-md-8 offset-md-1'>
        <h2>Place detail</h2>
        <table class='table'>
          <tbody>
            <tr>
              <td>
                <%= link_to user_path(@place.user.id) do %>
                  <%= attachment_image_tag @place.user, :profile_image, :fill, 100, 100, fallback: 'default-image.jpg' %>
                  <br>
                  <%= @user.name %>
                <% end %>
              </td>
              <td><%= link_to @place.title, place_path(@place.id) %></td>
              <td><%= @place.body %></td>
              <% if @user == current_user %>
                <td><%= link_to "Edit", edit_place_path(@place.id), class:["btn", "btn-sm", "btn-success", "edit_place_id"] %></td>
                <td><%= link_to "Destroy", place_path(@place), class:["btn", "btn-sm", "btn-danger", "destroy-place"], method: :delete %></td>
              <% end %>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</main>